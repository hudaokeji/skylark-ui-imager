{"version":3,"sources":["plugins/save.js"],"names":["define","langx","noder","$","canvas2d","Imager","SavePlugin","Plugin","inherit","defaults","callback","this","imager","selfDestroy","init","options","overrided","buttonGroup","toolbar","createButtonGroup","destroyButton","createButton","image","addEventListener","bind","pluginInfo","name","ctor","installPlugin"],"mappings":";;;;;;;AAAAA,QACE,sBACA,sBACA,sBACA,yBACA,aACA,SAASC,EAAMC,EAAOC,EAAGC,EAASC,GAClC,YAEA,IAAIC,GAAYD,EAAOE,OAAOC,SAE5BC,UACEC,SAAU,WACRC,KAAKC,OAAOC,gBAIhBC,KAAM,SAASF,EAAOG,GACpBJ,KAAKK,UAAUJ,EAAOG,EAEtB,IAAIE,GAAcN,KAAKC,OAAOM,QAAQC,mBAEtCR,MAAKS,cAAgBH,EAAYI,cAC/BC,MAAO,SAGTX,KAAKS,cAAcG,iBAAiB,QAASZ,KAAKI,QAAQL,SAASc,KAAKb,UAIxEc,GACFC,KAAO,OACPC,KAAOrB,EAKT,OAFAD,GAAOuB,cAAcH,GAEdA","file":"../../plugins/save.js","sourcesContent":["define([\n  \"skylark-langx/langx\",\n  \"skylark-utils/noder\",\n  \"skylark-utils/query\",\n  \"skylark-utils-canvas2d\",\n  '../Imager',\n],function(langx,noder, $, canvas2d,Imager) {\n  'use strict';\n\n  var SavePlugin= Imager.Plugin.inherit({\n\n    defaults: {\n      callback: function() {\n        this.imager.selfDestroy();\n      }\n    },\n\n    init: function(imager,options) {\n      this.overrided(imager,options);\n\n      var buttonGroup = this.imager.toolbar.createButtonGroup();\n\n      this.destroyButton = buttonGroup.createButton({\n        image: 'save'\n      });\n\n      this.destroyButton.addEventListener('click', this.options.callback.bind(this));\n    },\n  });\n\n  var pluginInfo = {\n    name : \"save\",\n    ctor : SavePlugin\n  };\n\n  Imager.installPlugin(pluginInfo);\n\n  return pluginInfo;  \n\n});\n"]}