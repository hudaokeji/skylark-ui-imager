{"version":3,"sources":["plugins/save.js"],"names":["define","langx","noder","$","canvas2d","Imager","pluginInfo","name","ctor","Plugin","inherit","defaults","callback","this","imager","selfDestroy","init","options","overrided","buttonGroup","toolbar","createButtonGroup","destroyButton","createButton","image","addEventListener","bind","installPlugin"],"mappings":";;;;;;;AAAAA,QACE,sBACA,0BACA,0BACA,4BACA,aACA,SAASC,EAAMC,EAAOC,EAAGC,EAASC,GAClC,aAEA,IAqBIC,GACFC,KAAO,OACPC,KAvBcH,EAAOI,OAAOC,SAE5BC,UACEC,SAAU,WACRC,KAAKC,OAAOC,gBAIhBC,KAAM,SAASF,EAAOG,GACpBJ,KAAKK,UAAUJ,EAAOG,GAEtB,IAAIE,EAAcN,KAAKC,OAAOM,QAAQC,oBAEtCR,KAAKS,cAAgBH,EAAYI,cAC/BC,MAAO,SAGTX,KAAKS,cAAcG,iBAAiB,QAASZ,KAAKI,QAAQL,SAASc,KAAKb,WAW5E,OAFAR,EAAOsB,cAAcrB,GAEdA","file":"../../plugins/save.js","sourcesContent":["define([\r\n  \"skylark-langx/langx\",\r\n  \"skylark-utils-dom/noder\",\r\n  \"skylark-utils-dom/query\",\r\n  \"skylark-graphics-canvas2d\",\r\n  '../Imager',\r\n],function(langx,noder, $, canvas2d,Imager) {\r\n  'use strict';\r\n\r\n  var SavePlugin= Imager.Plugin.inherit({\r\n\r\n    defaults: {\r\n      callback: function() {\r\n        this.imager.selfDestroy();\r\n      }\r\n    },\r\n\r\n    init: function(imager,options) {\r\n      this.overrided(imager,options);\r\n\r\n      var buttonGroup = this.imager.toolbar.createButtonGroup();\r\n\r\n      this.destroyButton = buttonGroup.createButton({\r\n        image: 'save'\r\n      });\r\n\r\n      this.destroyButton.addEventListener('click', this.options.callback.bind(this));\r\n    },\r\n  });\r\n\r\n  var pluginInfo = {\r\n    name : \"save\",\r\n    ctor : SavePlugin\r\n  };\r\n\r\n  Imager.installPlugin(pluginInfo);\r\n\r\n  return pluginInfo;  \r\n\r\n});\r\n"]}