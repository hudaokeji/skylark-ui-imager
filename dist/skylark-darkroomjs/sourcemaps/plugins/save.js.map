{"version":3,"sources":["plugins/save.js"],"names":["define","langx","noder","$","fabric","Darkroom","pluginInfo","name","ctor","Plugin","inherit","defaults","callback","this","selfDestroy","init","options","overrided","buttonGroup","toolbar","createButtonGroup","destroyButton","createButton","image","addEventListener","bind","installPlugin"],"mappings":";;;;;;;AAAAA,QACE,sBACA,qBACA,qBACA,iBACA,eACA,SAASC,EAAMC,EAAOC,EAAGC,EAAOC,GAChC,aAEA,IAqBIC,GACFC,KAAO,OACPC,KAvBcH,EAASI,OAAOC,SAE9BC,UACEC,SAAU,WACRC,KAAKR,SAASS,gBAIlBC,KAAM,SAASV,EAASW,GACtBH,KAAKI,UAAUZ,EAASW,GAExB,IAAIE,EAAcL,KAAKR,SAASc,QAAQC,oBAExCP,KAAKQ,cAAgBH,EAAYI,cAC/BC,MAAO,SAGTV,KAAKQ,cAAcG,iBAAiB,QAASX,KAAKG,QAAQJ,SAASa,KAAKZ,WAW5E,OAFAR,EAASqB,cAAcpB,GAEhBA","file":"../../plugins/save.js","sourcesContent":["define([\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-noder\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-fabric\",\r\n  '../Darkroom',\r\n],function(langx,noder, $, fabric,Darkroom) {\r\n  'use strict';\r\n\r\n  var SavePlugin= Darkroom.Plugin.inherit({\r\n\r\n    defaults: {\r\n      callback: function() {\r\n        this.Darkroom.selfDestroy();\r\n      }\r\n    },\r\n\r\n    init: function(Darkroom,options) {\r\n      this.overrided(Darkroom,options);\r\n\r\n      var buttonGroup = this.Darkroom.toolbar.createButtonGroup();\r\n\r\n      this.destroyButton = buttonGroup.createButton({\r\n        image: 'save'\r\n      });\r\n\r\n      this.destroyButton.addEventListener('click', this.options.callback.bind(this));\r\n    },\r\n  });\r\n\r\n  var pluginInfo = {\r\n    name : \"save\",\r\n    ctor : SavePlugin\r\n  };\r\n\r\n  Darkroom.installPlugin(pluginInfo);\r\n\r\n  return pluginInfo;  \r\n\r\n});\r\n"]}